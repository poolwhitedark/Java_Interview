## Java

### Java基础

#### 1、HashMap和TreeMap的区别？

#### 2、String、StringBuffer、StringBuilder的区别？

#### 3、Object 的 clone 方法深拷贝还是浅拷贝？

#### 4、有用过序列化实现深拷贝吗？

#### 5、equals与 ==的区别？ 

#### 6、String类能被继承吗

#### 7、抽象类必须要有抽象方法吗

#### 8、Java中多态的实现原理？

#### 9、抽象类能使用final修饰吗？

#### 10、接口和抽象类有什么区别？

#### 11、Files的常用方法有哪些？

#### 12、线程和进程的区别？

#### 13、代理的实现原理？

#### 14、Java泛型和类型擦除？

#### 15、Java内部类为什么可以访问到外部类？

#### 16、Java中数据类型有哪些？什么是自动拆装箱？

#### 17、创建线程的几种方式？

#### 18、Java中IO流分为几种？

#### 19、守护线程是什么？怎么实现？

#### 20、String s和new String()的区别？

#### 21、如何将字符串反转？

#### 22、BIO、NIO、AIO的区别？

#### 23、Math.round(-1.5)等于多少？

#### 24、Java中Comparator和Comparable的区别？

#### 25、Java锁有哪些种类？以及区别？

### Java集合

#### 1. Arraylist与LinkedList区别

#### 2、Collections.sort和Arrays.sort的实现原理

#### 3、HashMap原理，java8做了什么改变

#### 4、List 和 Set，Map 的区别

#### 5、poll()方法和 remove()方法的区别？

#### 6、HashMap，HashTable，ConcurrentHash的共同点和区别

#### 7、写一段代码在遍历 ArrayList 时移除一个元素

#### 8、Java中怎么打印数组？

#### 9、TreeMap底层？

#### 10、HashMap 的扩容过程

#### 11、HashSet是如何保证不重复的

#### 12. HashMap 是线程安全的吗，为什么不是线程安全的？死循环问题？

#### 13. LinkedHashMap的应用，底层，原理

#### 14. 哪些集合类是线程安全的？哪些不安全？

#### 15. ArrayList 和 Vector 的区别是什么？

#### 16. Collection与Collections的区别是什么？

#### 17. 如何决定使用 HashMap 还是TreeMap？

#### 18. 如何实现数组和 List之间的转换？

#### 19. 迭代器 Iterator 是什么？怎么用，有什么特点？

#### 20. Iterator 和 ListIterator 有什么区别？

#### 21. 怎么确保一个集合不能被修改？

#### 22. 快速失败(fail-fast)和安全失败(fail-safe)的区别是什么？

#### 23. 什么是Java优先级队列(Priority Queue)？

#### 24. JAVA8的ConcurrentHashMap为什么放弃了分段锁，有什么问题吗，如果你来设计，你如何设计。

#### 25. 阻塞队列的实现，ArrayBlockingQueue的底层实现？

#### 26、Java 中的 LinkedList是单向链表还是双向链表？

#### 27、说一说ArrayList 的扩容机制吧

#### 28、HashMap 的长度为什么是2的幂次方，以及其他常量定义的含义~

#### 29、ConcurrenHashMap 原理？1.8 中为什么要用红黑树？

#### 30、ArrayList的默认大小

#### 31、为何Collection不从Cloneable和Serializable接口继承？

#### 32、Enumeration和Iterator接口的区别？

#### 33、我们如何对一组对象进行排序？

#### 34、当一个集合被作为参数传递给一个函数时，如何才可以确保函数不能修改它？

#### 35、说一下HashSet的实现原理？

#### 36、Array 和 ArrayList 有何区别？

#### 37、为什么HashMap中String、Integer这样的包装类适合作为key？

#### 38、如果想用Object作为hashMap的Key？

#### 39、讲讲红黑树的特点？

#### 40、Java集合类框架的最佳实践有哪些？

#### 41、谈谈线程池阻塞队列吧~

#### 42、HashSet和TreeSet有什么区别？

#### 43、Set里的元素是不能重复的，那么用什么方法来区分重复与否呢? 是用==还是equals()?

#### 44、说出ArrayList,LinkedList的存储性能和特性

#### 45、HashMap在JDK1.7和JDK1.8中有哪些不同？

#### 46、ArrayList集合加入1万条数据，应该怎么提高效率

#### 47、如何对Object的list排序

#### 48、ArrayList 和 HashMap 的默认大小是多数？

#### 49、有没有有顺序的Map实现类，如果有，他们是怎么保证有序的

#### 50、HashMap是怎么解决哈希冲突的

### Java并发&多线程

#### 1、线程的生命周期、线程的几种状态？

#### 2、happen-before原则？

#### 3、公平锁和非公平锁？

#### 4、可重入锁？

#### 5、独享锁和共享锁？

#### 6、偏向锁&轻量级锁&重量级锁？

#### 7、如何保证内存可见性？

#### 8、如何检测死锁、如何预防死锁、死锁的四个必要条件？

#### 9、synchronized的实现原理以及锁优化？

#### 10、ThreadLocal原理，使用注意点，应用场景有哪些？

#### 11、synchronized和ReentrantLock的区别？

#### 12、说说CountDownLatch与CyclicBarrier区别

#### 13、Fork/Join框架的理解

#### 14、为什么我们调用start()方法时会执行run()方法，为什么我们不能直接调用run()方法？

#### 15、CAS？CAS 有什么缺陷，如何解决？

#### 16、如何保证多线程下i++ 结果正确？

#### 17、为什么要用线程池？Java的线程池内部机制，参数作用，几种工作阻塞队列，线程池类型以及使用场景

#### 18、谈谈volatile关键字的理解

#### 19、AQS组件，实现原理

#### 20、什么是多线程环境下的伪共享

#### 21、说一下 Runnable和 Callable有什么区别？

#### 22、wait(),notify()和suspend(),resume()之间的区别

#### 23、Condition接口及其实现原理

#### 24、线程池如何调优，最大数目如何确认？

#### 25、 假设有T1、T2、T3三个线程，你怎样保证T2在T1执行完后执行，T3在T2执行完后执行？

#### 26、 LockSupport作用是？

### 设计模式

#### 1、单例模式

#### 2、代理模式

### JVM

#### 1、什么情况下会发生栈内存溢出。什么时候发生堆溢出？你是怎么排错的？

#### 2、JVM怎么判断对象是可回收对象？有哪些方法。

#### 3、JVM的内存结构，新生代与老年代的比例，Eden和Survivor比例。

#### 4、你知道哪几种垃圾收集器，各自的优缺点，重点讲下cms和G1，包括原理，流程，优缺点。

#### 5、简单说说你了解的类加载器，可以打破双亲委派么，怎么打破。

#### 6、JVM内存为什么要分成新生代，老年代，持久代。新生代中为什么要分为Eden和Survivor。

#### 7、JVM 出现 fullGC 很频繁，怎么去线上排查问题？

#### 8、JVM中一次完整的GC流程是怎样的，对象如何晋升到老年代，说说你知道的几种主要的JVM参数。

#### 9、垃圾回收算法的实现原理。

#### 10、JVM内存模型的相关知识了解多少，比如重排序，内存屏障，happen-before，主内存，工作内存等。

#### 11、说一下Java对象的创建过程

#### 12、你们线上应用的JVM参数配置了哪些。

#### 13、G1和cms区别。

#### 14、怎么打出线程栈信息。

#### 15、说一下类加载的执行过程

#### 16、JVM垃圾回收机制，何时触发MinorGC等操作呢？

#### 17、ZGC 垃圾收集器，了解过吗

#### 18、对象的访问定位有哪两种方式?

#### 19、说一下 jvm 调优的工具？

#### 20、对象什么时候会进入老年代？

#### 21、内存泄漏和内存溢出区别？

#### 22、什么是tomcat类加载机制？

#### 23、了解逃逸分析技术吗

#### 24、调用System.gc()会发生什么?

#### 25、谈谈Minor GC条件，full GC条件

#### 26、Stop The World 了解过吗？

#### 27、谈谈你认识多少种OOM？如何避免OOM?

#### 28、了解过JVM调优没，基本思路是什么?如何确定它们的大小呢？

#### 29、淘宝热门商品信息在JVM哪个内存区域

#### 30、字节码的编译过程

#### 31、Java需要开发人员回收内存垃圾吗？

#### 32、Java中垃圾回收有什么目的？什么时候进行垃圾回收？

#### 33、System.gc()和Runtime.gc()会做什么事情？

#### 34、主内存与工作内存

#### 35、内存间交互操作

#### 36、volatile 禁止内存重排序

#### 37、内存模型三大特性

#### 38、谈谈先行发生原则

#### 39、JVM 堆内存溢出后，其他线程是否可继续工作？

#### 40、说一下JVM 常用参数有哪些？

#### 41、JVM 为什么使用元空间替换了永久代？

#### 42、Java堆的结构是什么样子的？什么是堆中的永久代(Perm Gen space)?

#### 43、JVM的永久代中会发生垃圾回收么？

#### 44、什么是字节码？采用字节码的最大好处是什么？什么Java是虚拟机？

#### 45、MinorGC 的过程

#### 46、CPU 占用过高如何分析

#### 47、Serial与Parallel GC之间的不同之处？

#### 48、WeakHashMap 是怎么工作的？

#### 49、解释 Java 堆空间及 GC？

#### 50、你能保证 GC 执行吗？

#### 51、JVM中哪个参数是用来控制线程的栈堆栈小的?

## 数据库

### Redis

#### 1、缓存雪崩如何解决？

缓存宕机=>导致大量请求打在DB上=>导致数据库宕机

1）将缓存做成集群、高可用=>防止缓存宕机

2）使用断路器，如果缓存宕机，为防止系统全部宕机，限制部分流量进入DB，保证部分可用，其余返回断路器的默认值

#### 2、缓存穿透如何解决？

黑客大量请求一个刚刚失效的key（即是不存在的key）=>导致DB压力倍增=>可能宕机

1）可以在第一次查询不存在的key时，然后再去访问数据库，还是没有，就放一个占位符，下次再请求时，如果有占位符就不去DB查询了

#### 3、什么是缓存和数据库双写不一致？怎么解决？

解释：连续写DB和缓存，但是操作期间，出现并发了，数据不一致了。

1）**先更新数据库，再更新缓存。**

这么做的问题是：当有 2 个请求同时更新数据，那么如果不使用分布式锁，将无法控制最后缓存的值到底是多少。也就是并发写的时候有问题。

2）**先删缓存，再更新数据库。**

这么做的问题：如果在删除缓存后，有客户端读数据，将可能读到旧数据，并有可能设置到缓存中，导致缓存中的数据一直是老数据。有 2 种解决方案：

- 使用“双删”，即删更删，最后一步的删除作为异步操作，就是防止有客户端读取的时候设置了旧值。
- 使用队列，当这个 key 不存在时，将其放入队列，串行执行，必须等到更新数据库完毕才能读取数据。

总的来讲，比较麻烦。

3）**先更新数据库，再删除缓存**

这个实际是常用的方案，但是有很多人不知道，这里介绍一下，这个叫 Cache Aside Pattern，老外发明的。如果先更新数据库，再删除缓存，那么就会出现更新数据库之前有瞬间数据不是很及时。同时，如果在更新之前，缓存刚好失效了，读客户端有可能读到旧值，然后在写客户端删除结束后再次设置了旧值，非常巧合的情况。有 2 个前提条件：缓存在写之前的时候失效，同时，在写客户端删除操作结束后，放置旧数据 —— 也就是读比写慢。甚至有的写操作还会锁表。所以，这个很难出现，但是如果出现了怎么办？使用双删！！！记录更新期间有没有客户端读数据库，如果有，在更新完数据库之后，执行延迟删除。还有一种可能，如果执行更新数据库，准备执行删除缓存时，服务挂了，执行删除失败怎么办？？？这就坑了！！！不过可以通过订阅数据库的 binlog 来删除。

#### 4、redis如何实现分布式锁？

#### 5、Redis的数据类型？

string、list、hash、set（集合）、zset（有序集合）

![image.png](https://camo.githubusercontent.com/58192ccbdd0d476ab754087c0683e2f6395b81d067f352623af192b9678e966b/68747470733a2f2f70312d6a75656a696e2e62797465696d672e636f6d2f746f732d636e2d692d6b3375316662706663702f31383734653639633730393934306664383064363663633861623638333133357e74706c762d6b3375316662706663702d77617465726d61726b2e696d616765)

#### 6、为什么生产环境不能使用keys指令？

因为keys指令查找所有符合pattern的key，但是keys指令是遍历执行的，复杂度为O(n)，数据库数据越多越慢。redis是单线程的，指令会导致线程阻塞，直到指令执行完，服务才会恢复。

### Mysql

#### 1、MySQL主从复制？

#### 2、Mysql分库分表？

#### 3、使用Canal做数据同步？

#### 4、使用Sharding-JDBC进行分库分表？

## 框架

### Mybatis框架

#### 1、mybatis 中 #{}和 ${}的区别是什么？

#{}是参数占位符、可以防止sql注入问题、解析成?然后通过调用PreparedStatement的set方法来赋值

${}是字符串替换、并且是直接替换成变量的值

#### 2、mybatis 和 hibernate 的区别有哪些？

1）Mybatis不完全是一个ORM框架，因为程序员需要自己编写sql

2）Mybatis无法做到数据库无关性，如果需要实现支持多种数据库的需求，则需要编写多套sql，工作量大

3）Hibernate ORM（对象关系映射）能力强，数据库无关性好

### Spring框架

#### 1、你能说说Spring框架中Bean的生命周期吗？

#### 2、Spring，SpringMVC，SpringBoot，SpringCloud有什么区别和联系？

#### 3、BeanFactory和 ApplicationContext有什么区别？

#### 4、Spring IOC 的理解，其初始化过程

#### 5、Spring 循环注入的原理？

#### 6、Spring 中用到了那些设计模式？

#### 7、Spring AOP的理解，各个术语，他们是怎么相互工作的

#### 8、Spring框架中的单例bean是线程安全的吗?

#### 9、Spring @ Resource和Autowired有什么区别？

#### 10、Spring 的不同事务传播行为有哪些，有什么作用？

#### 11、Spring Bean 的加载过程是怎样的？

#### 12、请举例说明@Qualifier注解

#### 13、Spring 是如何管理事务的，事务管理机制？

#### 14、你可以在Spring中注入一个null 和一个空字符串吗？

#### 15、SpringBoot 的自动配置是怎么做的？

#### 16、@RequestMapping 的作用是什么？

#### 17、Spring boot 有哪些方式可以实现热部署？

#### 18、说说Spring中的@Configuration

#### 19、FileSystemResource 和ClassPathResource 有何区别？

#### 20、Spring支持哪些事务管理类型

### Spring Cloud框架

#### 1、什么是Spring Cloud？

#### 2、Eureka和Zookeeper区别

#### 3、什么是服务熔断？什么是服务降级?

#### 4、什么是Ribbon？

#### 5、什么是 Netflix Feign？它的优点是什么？

#### 6、Ribbon和Feign的区别？

#### 7、什么是Spring Cloud Bus?

#### 8、Spring Cloud Gateway?

#### 9、什么是SpringCloudConfig?

#### 10、什么是 Hystrix？它如何实现容错？

#### 11、什么是微服务？微服务优缺点

#### 12、Sentinel，微服务哨兵，了解过吗

## 中间件

### Kafka

#### 1、kafka 和其他消息队列的区别，kafka 主从同步怎么实现？

#### 2、kafka吞吐量高的原因。

#### 3、使用 kafka 集群需要注意什么？

#### 4、kafka可以脱离zookeeper单独使用吗？为什么？

#### 5、kafka 的分区策略有哪些？

#### 6、kafka 有几种数据保留策略？

#### 7、Kafka 消息是采用 Pull 模式，还是 Push 模式？

### RocketMQ

### Nginx

#### 1、Nginx的模块与工作原理是什么?

#### 2、Nginx 是什么？有什么作用？

#### 3、说说Nginx的一些特性。

#### 4、请说一下Nginx如何处理HTTP请求。

#### 5、你知道，Nginx服务器上的Master和Worker进程分别是什么吗?

#### 6、nginx常用命令，启动，重启，检查配置文件等

#### 7、Nginx 和 Apache 比较，各有什么优缺点?

#### 8、Nginx 多进程模型是如何实现高并发的？

#### 9、说说Nginx的反向代理和负载均衡

#### 10、请列举Nginx服务器的最佳用途。

### Zookeeper

#### 1、Zookeeper的用途，选举的原理是什么。

#### 2、Zookeeper watch机制原理。

#### 3、zookeeper 怎么保证主从节点的状态同步？

#### 4、集群中有3台服务器，其中一个节点宕机，这个时候 zookeeper 还可以使用吗？

#### 5、zookeeper都有哪些功能？

#### 6、什么是paxos算法，什么是zab协议。

#### 7、zookeeper 是如何保证事务的顺序一致性的？

#### 8、zookeeper 负载均衡和 nginx 负载均衡区别

#### 9、Zookeeper 的典型应用场景

#### 10、说说四种类型的数据节点Znode

#### 11、Zookeeper 的服务器角色（Leader，Follower，Observer）

#### 12、Zookeeper 有哪几种几种部署模式？

## 高可用

#### 1、什么是高可用？可用性的判断标准是啥？

高可用描述的是一个系统在大部分时间都是可用的，可以为我们提供服务的。高可用代表系统即使在发生硬件故障或者系统升级的时候，服务仍然是可用的。

一般情况下，我们使用多少个 9 来评判一个系统的可用性，比如 99.9999% 就是代表该系统在所有的运行时间中只有 0.0001% 的时间是不可用的，这样的系统就是非常非常高可用的了！当然，也会有系统如果可用性不太好的话，可能连 9 都上不了。

除此之外，系统的可用性还可以用某功能的失败次数与总的请求次数之比来衡量，比如对网站请求 1000 次，其中有 10 次请求失败，那么可用性就是 99%。

#### 2、哪些情况会导致系统不可用？

1）黑客攻击

2）硬件故障，比如服务器坏掉

3）并发量/用户请求量激增导致整个服务宕掉或者部分服务不可用

4）代码中的坏味道导致内存泄漏或者其他问题导致程序挂掉

5）网站架构某个重要的角色比如 Nginx 或者数据库突然不可用

6）自然灾害或者人为破坏

7）......

#### 3、有哪些提高系统可用性的方法？

1）注重代码质量，测试严格把关

2）使用集群，减少单点故障

3）流量控制

4）超时和重试机制设置

5）熔断机制

6）异步调用

7）使用缓存

8）监控系统资源使用情况增加报警设置

9）......

## Linux命令

### 1、修改目录，文件权限的命令

### 2、如何获取一个本地服务器上可用的端口。

### 3、说说常见的linux命令，linux查看内存的命令是什么？

### 4、查看系统磁盘空间剩余情况的命令

### 5、如何获取java进程的pid

### 6、如何获取某个进程的网络端口号；

### 7、如何实时打印日志

### 8、如何统计某个字符串行数；

### 9、用一行命令查看文件的最后五行。

### 10、用一行命令输出正在运行的java进程。

### 11、绝对路径，当前目录、上层目录，切换目录分别用什么命令？

### 12、怎么清屏？怎么退出当前命令？

### 13、目录创建，创建文件，复制文件分别用什么命令？

### 14、查看文件内容有哪些命令可以使用？tail？cat？less？more？

### 15、怎么使一个命令在后台运行?

### 16、终止进程用什么命令? 带什么参数? kill-9 pid有什么风险？

### 17、搜索文件用什么命令? 格式是怎么样的?

### 18、使用什么命令查看网络是否连通?

### 19、使用什么命令查看 ip 地址及接口信息？

### 20、awk 详解

## 网络

### 网络基础

#### 1、讲一下HTTP与HTTPS 的区别。

#### 2、Session和cookie的区别。

#### 3、http1.0和http1.1有什么区别。

#### 4、HTTP的常见状态码有哪些，代表什么含义？比如200, 302, 404？

#### 5、当你用浏览器打开一个链接到返回结果，发生了什么。

#### 6、GET与POST方式的区别

#### 7、如何避免浏览器缓存。

#### 8、TCP/IP模型?

#### 9、讲一讲 TCP 和 UDP 各有什么特点，两者有什么区别

#### 10、说一下拥塞控制

#### 11、如何理解HTTP协议的无状态性。

#### 12、HTTP有哪些 method？

#### 13、HTTP长连接和短连接

#### 14、HTTPS原理，加签，验签，什么是数字签名？什么是数字证书？对称加密和非对称加密等。

#### 15、谈下你对 IP 地址分类的理解？

#### 16、ARP及RARP协议的工作原理？

#### 17、怎么解决拆包和粘包？

#### 18、DNS 的解析过程？

#### 19、什么是DoS、DDoS、DRDoS攻击？如何防御？

#### 20、WebSocket与socket的区别

#### 21、讲一讲SYN超时，洪泛攻击，以及解决策略

#### 22、ICMP协议的功能

#### 23、什么是 session，有哪些实现 session 的机制？

#### 24、Http请求的过程与原理

#### 25、你知道网络协议有那些？

#### 26、HTTPS 为什么是安全的？说一下他的底层实现原理？

#### 27、ping的原理

#### 28、如果服务器出现了大量 CLOSE_WAIT 状态如何解决。

#### 29、OSI七层体系结构路

#### 30、路由器与交换机的区别

#### 31、什么是XSS攻击，如何避免

#### 32、什么是CSRF攻击，如何避免

#### 33、Https双向和单向验证的区别

#### 34、如果客户端禁止Cookie能实现Session

#### 35、HTTP请求中session实现原理

### TCP协议

#### 1、讲下TCP三次握手流程

#### 2、TCP握手为什么是三次，不能是两次？不能是四次？

#### 3、讲下TCP四次挥手过程

#### 4、TCP挥手为什么需要四次呢？

#### 5、TIME-WAIT 状态为什么需要等待 2MSL

#### 6、TCP 和 UDP 的区别

#### 7、TCP报文首部有哪些字段，说说其作用

#### 8、TCP 是如何保证可靠性的

#### 9、TCP 重传机制

#### 10、聊聊TCP的滑动窗口

#### 11、聊聊TCP的流量控制

#### 12、TCP的拥塞控制

#### 13、半连接队列和 SYN Flood 攻击的关系

#### 14、Nagle 算法与延迟确认

#### 15、TCP的粘包和拆包

## 系统设计

### 方案设计

#### 1、谈谈如何设计秒杀系统。

#### 2、一千万的用户实时排名如何实现

#### 3、五万人并发抢票怎么实现

#### 4、手机扫二维码登录是怎么实现的？

#### 5、Google是如何在一秒内把搜索结果返回给用户的。

#### 6、12306网站的订票系统如何实现，如何保证不会票不被超卖。

#### 7、如果有几十亿的白名单，每天白天需要高并发查询，晚上需要更新一次，如何设计这个功能。

#### 8、接口的幂等性如何设计

#### 9、如何设计存储海量数据的存储系统

海量数据的解决方案： 页面上：使用缓存；页面静态化技术； 数据库层面： 分离数据库中活跃的数据； 批量读取和延迟修改； 读写分离； 使用NoSQL和Hadoop等技术； 分布式部署数据库； 应用服务和数据服务分离； 其他方面： 使用搜索引擎搜索数据库中的数据； 进行业务的拆分； 高并发情况下的解决方案： 应用程序和静态资源文件进行分离，静态资源可以使用CDN； 集群与分布式； 使用Nginx反向代理；

#### 10、分布式session如何管理，你有哪些方案

#### 11、讲一下如何给高并发系统做限流？

#### 12、使用SpringBoot如何开发邮件发送系统？

#### 13、你如何设计一个能抗住大流量的系统，说说设计方案

#### 14、如何设计一个高并发的系统？

#### 15、数据量大的情况下分页查询很慢，有什么优化方案？

#### 16、设计一个秒杀系统，30分钟没付款就自动关闭交易。

#### 17、如何使用redis和zookeeper实现分布式锁？有什么区别优缺点，会有什么问题，分别适用什么

#### 18、如何设计一个安全的API接口。

#### 19、线上系统突然变得异常缓慢，你如何查找问题。

#### 20、设计一个社交网站中的“私信”功能，要求高并发、可扩展等等。 画一下架构图。

#### 21、后台系统怎么防止请求重复提交

#### 22、讲讲你理解的服务治理。

#### 23、执行某操作，前50次成功，第51次失败a全部回滚b前50次提交第51次抛异常，ab场景分别如何设置

#### 24、一个大的含有50M个URL的记录，一个小的含有500个URL的记录，找出两个记录里相同的URL

#### 25、海量日志数据，提取出某日访问百度次数最多的那个IP

#### 26、1000个线程同时运行，怎么防止不卡

#### 27、设计一个分布式自增id生成服务